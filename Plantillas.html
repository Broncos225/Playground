<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="PlantillasEstilos.css">
    <link rel="icon" href="Icono.ico">
    <meta name="theme-color" content="#333" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">

    <title>Plantillas</title>
</head>

<div id="firebaseMonitorContainer"></div>

<script>
    if (localStorage.getItem("nombreAsesorActual") === "Andrés_Felipe_Yepes_Tascón") {
        fetch("botonFirebase.html")
            .then(r => r.text())
            .then(html => {
                document.getElementById("firebaseMonitorContainer").innerHTML = html;
                const script = document.createElement("script");
                script.src = "botonFirebase.js"; // aquí va la lógica del botón
                document.body.appendChild(script);
            });
    }
</script>



<body>
    <header>
        <nav>
            <div class="titulo">
                <h2>
                    <a href="index.html" style="display: flex; align-items: center; gap: 10px;">
                        <img src="Icono.ico" width="45" alt="Icono" style="vertical-align: middle;">
                        Playground
                        <div id="HoraAlmuerzos"></div>

                    </a>
                </h2>
            </div>
            <ul class="botonesNav">
                <li><a href="Calculadora.html">Calculadora</a></li>
                <li><a href="Herramientas.html">Herramientas</a></li>
                <li><a href="Plantillas.html">Plantillas</a></li>
                <li><a href="Procedimientos.html">Procedimientos</a></li>
                <li><a href="HorariosStop.html">Horarios Stop Jeans</a></li>
                <li><a id="usuario"><i class="far fa-user"></i></a></li>
                <li><a id="configuraciones" href="Configuraciones.html"><i class="fa fa-gear"></i></a></li>
            </ul>
        </nav>
    </header>
    <section>
        <div style="text-align: center; display: flex; flex-direction: column; align-items: center; width: 100%;">

            <div style="display: flex; width: 100%; justify-content: space-between; ">
                <div
                    style="display: flex; flex-direction: row; align-items: center; gap: 10px; justify-content: center; padding: 0px;">
                    <p style="margin: 0px;" id="Encargado"></p>
                </div>
                <div style="display: flex; align-items: center; gap: 10px; flex-direction: row;">
                    <label style="width: 150px;">Activar temporizador</label>
                    <label class="switch" style="margin-left: 10px;">
                        <input type="checkbox" id="timerSwitch">
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
            <div>
                <h1 id="Titulo">Plantillas</h1>

                <div style="display: flex; flex-direction: column; margin-bottom: 10px;">
                    <label for="Tipos" style="display: flex; width: auto;">Tipos de plantillas:</label>
                    <select id="Tipos" class="custom-select">
                        <option value="0">Todas las plantillas</option>
                        <option value="1">Predeterminadas</option>
                        <option value="2">Solo personalizadas</option>
                    </select>

                </div>
            </div>


            <div style="display: flex; gap: 10px; margin-top: 10px; justify-content: center;">
                <button id="exportarTodas">
                    <i class="fas fa-file-excel"></i> Exportar Todas
                </button>
                <button id="openModalButton">Crear Plantilla</button>
            </div>
        </div>
        <div id="createTemplateModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <hr>
                <h2 style="text-align: center;">Crear Nueva Plantilla</h2>
                <hr>
                <form id="crearPlantillaForm">
                    <p>Nota: No agregar saludos ni despedidas como "Buenos días" ya que esto se agrega automaticamente
                        al momento de crear la plantilla.</p>
                    <label for="nombrePlantilla">Nombre de la Plantilla:</label>
                    <input type="text" id="nombrePlantilla" required><br>

                    <label for="apertura">Guión de Apertura:</label>
                    <textarea id="apertura" required></textarea><br>

                    <label for="cierre">Guión de Cierre:</label>
                    <textarea id="cierre" required></textarea><br>

                    <button type="submit">Crear Plantilla</button>
                </form>
            </div>
        </div>




        <div style="display: flex; width: 100%; justify-content: space-between;">
            <div id="FormTiendas" style="display: flex; justify-content: center; flex-grow: 1; margin: 0px;">
                <input type="text" autocomplete="off" id="busqueda" placeholder="Buscar..." style="height: 36px;">
                <button style="height: 42px; background-color: var(--color-secundario); margin-right: 5px;"
                    id="LimpiarP">Limpiar</button>
            </div>
        </div>
        <div id="notification"
            style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--color-secundario); color: var(--color-texto); padding: 15px; text-align: center; opacity: 0; z-index: 9999; transition: opacity 0.5s;">
        </div>
        <div id="notification2"
            style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: var(--color-secundario); color: var(--color-texto); padding: 15px; text-align: center; opacity: 0; z-index: 99999; transition: opacity 0.5s;">
        </div>

        <div style="width: 100%;">
            <div style="display: flex; flex-direction: column; text-align: center; align-items: center;">
                <h1>Favoritos</h1>
                <div id="FavoritosPlantillas" class="GModulos2">
                </div>
            </div>
            <hr>
            <div style="display: flex; flex-direction: column; text-align: center; align-items: center;">
                <h1>Todas las plantillas</h1>
                <div id="ModulosPlantillas" class="GModulos2">
                </div>
            </div>

        </div>
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <div id="modal-content">
                    <div id="titulo">
                    </div>
                    <div id="apertura">
                    </div>
                    <div id="cierre">
                    </div>
                </div>
            </div>
        </div>
        <h2 id="NoResultados">No se encontraron resultados para su búsqueda.</h2>
        <div id="myModal2" class="modal">
            <div class="modal-content2">
                <span id="close2" style="position: absolute; right: 1; top: 0;">&times;</span>
                <div id="modal-content2" style="display: flex; flex-direction: column; align-items: center; gap:10px;">
                    <h2>¿Quiere cerrar la sesión?</h2>
                    <button id="btnCerrarSesion">Cerrar sesión</button>
                </div>
            </div>
        </div>
        <button id="btnMostrarReproductor"
            style="display: flex; align-self: end; justify-self: end; border: 0;"></button>

    </section>
    <footer>
        <p>© 2024 Andrés Felipe Yepes Tascón</p>
    </footer>
    <script src="scriptConfiguraciones.js" type="module" defer></script>
    <script src="PreferenciasGlobales.js" type="module" defer></script>
    <script src="scriptMusica.js"></script>
    <!-- Incluye Firebase antes de tus scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <!-- Tus scripts -->
    <script src="FirebaseMonitor.js"></script>
    <script src="FirebaseWrapper.js"></script>
    <script src="scriptPlantillas.js"></script>
    <script src="Notificador.js"></script>
    <script src="Header.js"></script>
    <script src="Autorizacion.js" type="module" defer></script>
    <script src="CerrarSesion.js" type="module" defer></script>
    <script src="Almuerzo.js" type="module" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</body>

</html>