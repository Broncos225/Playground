<button id="btnAbrirModalIA"
    style="background: var(--color-primario); color: white; border: none; border-radius: 50%; cursor: pointer; box-shadow: none; font-size: 16px; padding: 8px; width: 40px; height: 40px; position: fixed; bottom: 10px; right: 10px; z-index: 1000;">
    <i class="fa-solid fa-wand-sparkles"></i>
</button>

<div id="ModalIA" class="modal" style="display: none;">
    <div class="modal-content" style="text-wrap: nowrap;">
        <span class="close" onclick="cerrarModalIA()">&times;</span>
        <h2>Mejorar texto con IA</h2>

        <div class="container-ia" style="max-width: 300px; display: flex; flex-direction: column; gap: 15px;">
            <div class="text-input-section" style="display: flex; flex-direction: column; gap: 5px;">
                <label for="textoOriginal">Texto original:</label>
                <textarea id="textoOriginal" rows="6" placeholder="Escribe o pega tu texto aquí..."
                    style="width: 100%; resize: vertical;"></textarea>
            </div>
            <label for="tipoMejora">Opciones de mejora:</label>
            <div class="buttons-section" style="display: flex; flex-direction: row; gap: 8px;">

                <select id="tipoMejora" style="width: 100%; padding: 8px;">
                    <option value="mejorar">Mejorar con IA</option>
                    <option value="formal">Hacer más formal</option>
                    <option value="claro">Hacer más claro</option>
                    <option value="conciso">Hacer más conciso</option>
                    <option value="profesional">Hacer más profesional</option>
                    <option value="pedir_info">Pedir información</option>
                    <option value="seguimiento">Dar seguimiento</option>
                    <option value="cerrar">Cerrar ticket</option>
                    <option value="escalamiento">Escalamiento</option>
                    <option value="corregir">Corregir ortografía</option>
                </select>
                <button onclick="aplicarMejora()" style="width: auto; padding: 10px;">Aplicar</button>
            </div>

            <div id="loadingIA" style="display: none; text-align: center; padding: 10px;">
                <p style="margin: 0;">Procesando con IA...</p>
            </div>

            <div class="text-output-section" style="display: flex; flex-direction: column; gap: 5px;">
                <label for="textoMejorado">Texto mejorado:</label>
                <textarea id="textoMejorado" rows="6" readonly placeholder="El texto mejorado aparecerá aquí..."
                    style="width: 100%; resize: vertical;"></textarea>
            </div>

            <div class="output-actions" style="display: flex; gap: 10px;">
                <button onclick="copiarTexto()" style="flex: 1; padding: 10px;">Copiar resultado</button>
                <button onclick="reemplazarTexto()" style="flex: 1; padding: 10px;">Usar este texto</button>
            </div>
        </div>
    </div>
</div>